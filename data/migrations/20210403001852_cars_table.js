// The critical information for each car is the vin, make, model, and mileage. They also track transmission type (manual, automatic...) and status of the title (clean, salvage...), but this information is not always immediately known. Write a migration inside data/migrations/01-make_cars_table.js to satisfy the following schema:

// field	data type	metadata
// id	unsigned integer	primary key, auto-increments, generated by database
// vin	string	required, unique
// make	string	required
// model	string	required
// mileage	numeric	required
// title	string	optional
// transmission	string	optional

// https://knexjs.org/

exports.up = function (knex, Promise) {
  return knex.schema.createTable("cars", (tbl) => {
    // creates a primary key called id
    tbl.increments("id");
    // creates a text field called vin which is both required and unique
    tbl.string("vin", 7).unique().notNullable();
    // creates a text field called make which is required
    tbl.string("make").notNullable();
    tbl.string("model").notNullable();
    tbl.integer("mileage").notNullable();
    tbl.string("title");
    tbl.string("transmission");
  });
};

exports.down = function (knex, Promise) {
  // drops the entire table
  return knex.schema.dropTableIfExists("cars");
};
